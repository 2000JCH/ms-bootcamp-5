# 08/29 회고록

미니프로젝트_ 도서대여 프로그램


## 1차 구현
제공된  도서관리.md 파일을 참고하여 
1. 도서 추가
2. 전체 도서 목록 조회
3. 도서 검색
4. 도서 대여
5. 도서 반납
의 기능을 구현하는것을 목표로 함


### 디렉토리 구조

```
─miniProject
    │ LibraryApp.java
    └─book
        ├─domain
        │      Book.java
        │
        ├─repository
        │      BookRepository.java
        │      MemoryBookRepository.java
        │
        └─service
                LibraryServiceImpl.java
                LibraryService.java

```
- 실제 book 객체의 속성과 로직 등을 정의하는 domain, Book의 생성 및 저장을 담당하는 repository, 실제 비즈니스 로직을 묶어둔 service로 계층을 분리함
- repository와 service는 interface를 만들어서 구현체를 만드는 방식으로 설계
    - 현재 저장소는 내부의 Map 형태로 저장. 추후 외부 db로의 확장성 등을 고려

### 주요 클래스
- Book : 책이라는 객체를 구현하기 위한 클래스. 책 제목, 저자, Id, 대여상태 를 필드로 가짐
- MemoryBookRepository : HashMap<Long, Book> 형태의 store를 통해 실제 데이터값을 저장
- LibraryServiceImpl : MemoryBookRepository을 불러와서 도서 추가, 도서 검색 등의 실제 비즈니스 로직을 처리
- LibraryApp : Main메소드를 통해 프로그램 실행의 시작점이 되는 클래스. Controller와 View의 역할


## 추가적인 확장 방향성
- User domain을 추가
    - ID
    - password
    - role
    - rentBookList 등등
- 관리자/사용자 등급을 나눠 로그인시 사용할 수 있는 기능 차별화
    - 관리자 : 도서 추가, 도서 삭제, 도서정보 수정 등
    - 사용자 : 본인정보 조회, 대여한 책 목록 조회 등




## 2차 구현
2차 구현은 위의 목표중 User도메인을 추가하여 로그인/회원가입, 대여한 도서 목록 조회 기능을 추가하였다.

## 디렉토리 구조
```
│  LibraryApp.java
│
└─domain
    ├─book
    │  │  Book.java
    │  │
    │  ├─repository
    │  │      BookRepository.java
    │  │      MemoryBookRepository.java
    │  │
    │  └─service
    │          LibraryService.java
    │          LibraryServiceImpl.java
    │
    └─user
        │  Grade.java
        │  Role.java
        │  User.java
        │
        ├─repository
        │      MemoryUserRepository.java
        │      UserRepository.java
        │
        └─service
                UserService.java
                UserServiceImpl.java
```
### 추가점 
- User클래스를 만들고, User와 관련된 Repository, Service를 구현
    - User클래스는 Id, Password, Grade rentBookList 등을 가짐. Grade는 책을 많이 빌릴수록 등급이 올라감.
    - User클래스를 기반으로 로그인/회원가입 기능 구현
        - 로그인시 없는 아이디, 틀린 아이디/비밀번호의 경우 예외처리를 통해 에러메시지 출력
        - 회원가입시 중복체크후 에러메시지 출력
    - User가 로그인을 성공하면 현재 User정보를 Service에 전달하여서 대여 정보를 확인 가능
- 도메인이 개발하는 대상 그 자체를 의미하므로 User, Book등의 객체 뿐 아니라 Service, Repository등의 행위도 도메인에 포함되게 디렉토리 구조를 변경함

### 추가할 점
- 관리자/유저별 기능 차이 구현.
